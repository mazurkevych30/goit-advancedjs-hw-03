{"version":3,"file":"commonHelpers.js","sources":["../src/js/cat-api.js","../src/index.js"],"sourcesContent":["\nconst BASE_URL = \"https://api.thecatapi.com/v1\";\nconst API_KEY = \"live_aIticapc5yMKLwBj7F4yaqx5l1ORt0AS6YUa15623BhG0txC4b6GwSarHvE9PX3u\";\n\nfunction fetchBreeds() {\n\n    const END_POINT = \"/breeds\";\n\n    return fetch(`${BASE_URL}${END_POINT}`, {\n        headers: {\n        \"x-api-key\": API_KEY,\n        }\n    })\n        .then((resp) => {\n            if (!resp.ok) {\n                throw new Error(resp.statusText || \"Error\");\n            }\n\n            return resp.json();\n        });\n}\n\nfunction fetchCatByBreed(breedId) {\n\n    const END_POINT = \"/images/search\";\n\n    const params = new URLSearchParams({\n        api_key: API_KEY,\n        breed_ids: breedId\n    });\n   \n    return fetch(`${BASE_URL}${END_POINT}?${params}`)\n        .then((resp) => {\n            if (!resp.ok) {\n                throw new Error(resp.statusText || \"Error\");\n            }\n\n            return resp.json();\n        });\n\n}\n\nexport { fetchBreeds, fetchCatByBreed };","\n\nimport { fetchBreeds, fetchCatByBreed } from \"./js/cat-api\"\n\nconst elements = {\n    selectBreed: document.querySelector(\".breed-select\"),\n    catInfo: document.querySelector(\".cat-info\"),\n    loader: document.querySelector(\".loader\"),\n    error: document.querySelector(\".error\")\n}\n\n\nfetchBreeds()\n    .then((data) => {\n        elements.selectBreed.insertAdjacentHTML(\"beforeend\", createMarkupSelect(data));\n        elements.selectBreed.classList.remove(\"hidden\");\n        elements.loader.classList.add(\"hidden\");\n    })\n    .catch((err) => {\n        elements.loader.classList.add(\"hidden\");\n        elements.error.classList.remove(\"hidden\");\n    });\n\nelements.selectBreed.addEventListener(\"change\", handlerPickBreed)\n\nconsole.dir(elements.selectBreed);\nfunction handlerPickBreed(evt) {\n    \n    if (!evt.currentTarget.value) {\n        return;\n    }\n    \n    fetchCatByBreed(evt.currentTarget.value)\n        .then((data) => {\n            elements.loader.classList.remove(\"hidden\");\n            // elements.selectBreed.classList.add(\"hidden\");\n            elements.catInfo.classList.add(\"hidden\");\n            setTimeout(() => {\n                 elements.catInfo.classList.remove(\"hidden\");\n                elements.catInfo.innerHTML = createMarkupCatInfo(data[0]);\n                elements.loader.classList.add(\"hidden\");\n                // elements.selectBreed.classList.remove(\"hidden\");\n            }, 500);\n            \n        })\n        .catch((err) => {\n            elements.selectBreed.classList.add(\"hidden\");\n            elements.error.classList.remove(\"hidden\");\n        })\n}\n\nfunction createMarkupCatInfo(breed) {\n    const { breeds, url } = breed;\n    const { name, description, temperament } = breeds[0];\n    console.log(temperament);\n   \n    return `\n        <img src=\"${url}\" alt=\"${name}\" width=\"500\">\n        <div class=\"cat-description\">\n            <h2>${name}</h2>\n            <p>${description}</p>\n            <p><b>Temperament:</b> ${temperament}</p>\n        </div>`;\n}\n\nfunction createMarkupSelect(arr) {\n    return arr.map(({ id, name }) =>\n        `\n        <option value=\"${id}\">${name}</option>\n        `\n    ).join(\"\");\n}"],"names":["BASE_URL","API_KEY","fetchBreeds","resp","fetchCatByBreed","breedId","END_POINT","params","elements","data","createMarkupSelect","err","handlerPickBreed","evt","createMarkupCatInfo","breed","breeds","url","name","description","temperament","arr","id"],"mappings":"ssBACA,MAAMA,EAAW,+BACXC,EAAU,wEAEhB,SAASC,GAAc,CAInB,OAAO,MAAM,GAAGF,WAAwB,CACpC,QAAS,CACT,YAAaC,CACZ,CACT,CAAK,EACI,KAAME,GAAS,CACZ,GAAI,CAACA,EAAK,GACN,MAAM,IAAI,MAAMA,EAAK,YAAc,OAAO,EAG9C,OAAOA,EAAK,MACxB,CAAS,CACT,CAEA,SAASC,EAAgBC,EAAS,CAE9B,MAAMC,EAAY,iBAEZC,EAAS,IAAI,gBAAgB,CAC/B,QAASN,EACT,UAAWI,CACnB,CAAK,EAED,OAAO,MAAM,GAAGL,IAAWM,KAAaC,GAAQ,EAC3C,KAAMJ,GAAS,CACZ,GAAI,CAACA,EAAK,GACN,MAAM,IAAI,MAAMA,EAAK,YAAc,OAAO,EAG9C,OAAOA,EAAK,MACxB,CAAS,CAET,CCpCA,MAAMK,EAAW,CACb,YAAa,SAAS,cAAc,eAAe,EACnD,QAAS,SAAS,cAAc,WAAW,EAC3C,OAAQ,SAAS,cAAc,SAAS,EACxC,MAAO,SAAS,cAAc,QAAQ,CAC1C,EAGAN,EAAa,EACR,KAAMO,GAAS,CACZD,EAAS,YAAY,mBAAmB,YAAaE,EAAmBD,CAAI,CAAC,EAC7ED,EAAS,YAAY,UAAU,OAAO,QAAQ,EAC9CA,EAAS,OAAO,UAAU,IAAI,QAAQ,CAC9C,CAAK,EACA,MAAOG,GAAQ,CACZH,EAAS,OAAO,UAAU,IAAI,QAAQ,EACtCA,EAAS,MAAM,UAAU,OAAO,QAAQ,CAChD,CAAK,EAELA,EAAS,YAAY,iBAAiB,SAAUI,CAAgB,EAEhE,QAAQ,IAAIJ,EAAS,WAAW,EAChC,SAASI,EAAiBC,EAAK,CAEtBA,EAAI,cAAc,OAIvBT,EAAgBS,EAAI,cAAc,KAAK,EAClC,KAAMJ,GAAS,CACZD,EAAS,OAAO,UAAU,OAAO,QAAQ,EAEzCA,EAAS,QAAQ,UAAU,IAAI,QAAQ,EACvC,WAAW,IAAM,CACZA,EAAS,QAAQ,UAAU,OAAO,QAAQ,EAC3CA,EAAS,QAAQ,UAAYM,EAAoBL,EAAK,EAAE,EACxDD,EAAS,OAAO,UAAU,IAAI,QAAQ,CAEzC,EAAE,GAAG,CAElB,CAAS,EACA,MAAOG,GAAQ,CACZH,EAAS,YAAY,UAAU,IAAI,QAAQ,EAC3CA,EAAS,MAAM,UAAU,OAAO,QAAQ,CACpD,CAAS,CACT,CAEA,SAASM,EAAoBC,EAAO,CAChC,KAAM,CAAE,OAAAC,EAAQ,IAAAC,CAAK,EAAGF,EAClB,CAAE,KAAAG,EAAM,YAAAC,EAAa,YAAAC,CAAW,EAAKJ,EAAO,GAClD,eAAQ,IAAII,CAAW,EAEhB;AAAA,oBACSH,WAAaC;AAAA;AAAA,kBAEfA;AAAA,iBACDC;AAAA,qCACoBC;AAAA,eAErC,CAEA,SAASV,EAAmBW,EAAK,CAC7B,OAAOA,EAAI,IAAI,CAAC,CAAE,GAAAC,EAAI,KAAAJ,CAAM,IACxB;AAAA,yBACiBI,MAAOJ;AAAA,SAEhC,EAAM,KAAK,EAAE,CACb"}